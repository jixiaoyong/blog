---
title: æ•°æ®ç»“æ„_é€’å½’å’Œæ±‰è¯ºå¡”é—®é¢˜
date: 2019-01-02 19:56:25
tag: æ•°æ®ç»“æ„
---

# å‰è¨€

æœ¬æ–‡ä»‹ç»äº†é€’å½’ï¼Œå½’å¹¶æ’åºï¼Œè¿˜æœ‰é€’å½’åœ¨æ±‰è¯ºå¡”é—®é¢˜ä¸Šçš„åº”ç”¨ã€‚

æ’åºé¡ºåºä¸º `å° â†’ å¤§`

# é€’å½’

é€’å½’æ˜¯ä¸€ç§åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨è‡ªå·±çš„å‡½æ•°ã€‚åœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶åå¯ä»¥é€€å‡ºé€’å½’ã€‚

æ¯”å¦‚ä¸‰è§’æ•°ç»„å°±æ˜¯ä¸€ä¸ªç®€å•çš„é€’å½’ï¼š

> æœ‰ä¸€ç»„æ•°æ®ï¼Œæ»¡è¶³è¿™æ ·çš„æ¡ä»¶`ç¬¬né¡¹` = `ç¬¬n-1é¡¹` + `n`ï¼Œå°±ç§°ä¸ºä¸‰è§’æ•°ç»„ï¼Œå¦‚ï¼š
>
> `1,2,6,10,15,21...`

è¿™é‡Œé¢ï¼Œ**`ç¬¬né¡¹` = `ç¬¬n-1é¡¹` + `n`**,å°±æ˜¯ä¸€ä¸ªé€’å½’ï¼Œæ¯ä¸€é¡¹çš„è®¡ç®—ç»“æ„éƒ½ä¾èµ–äºå‰ä¸€é¡¹çš„è®¡ç®—ï¼Œç›´åˆ°ç¬¬1é¡¹çš„è®¡ç®—ç»“æœä¸ºç¡®å®šçš„1ï¼Œä¸å†ç»§ç»­é€’å½’ã€‚

å®ç°å¦‚ä¸‹ï¼š

```kotlin
/**
 * ä¸‰è§’æ•°
 * ç¬¬nä¸ªæ•° == ç¬¬n-1ä¸ªæ•° + n
 */
fun triangleNum(num: Int): Int {
    if (num == 1) {
        return num
    }
    return num + triangleNum(num - 1)
}
```

# æ±‰è¯ºå¡”é—®é¢˜

æ±‰è¯ºå¡”æ˜¯ä¸€ç§æ¸¸æˆï¼Œæœ‰ä¸‰ä¸ªæŸ±å­ï¼Œå…¶ä¸­ä¸€æ£µæŸ±å­ä¸Šé¢æœ‰è‹¥å¹²ä¸ªåŠå¾„ä¾æ¬¡é€’å‡çš„ç©ºå¿ƒåœ†ç›˜ï¼Œæ¯æ¬¡åªèƒ½ç§»åŠ¨æœ€é¡¶ç«¯çš„åœ†ç›˜ï¼Œå¹¶ä¸”ä¸‹é¢çš„åœ†ç›˜è¦æ¯”ä¸Šé¢çš„åœ†ç›˜ç›´å¾„å¤§ã€‚æ¸¸æˆçš„ç›®çš„å°±æ˜¯åœ¨æ»¡è¶³è¿™äº›æ¡ä»¶çš„å‰æä¸‹ï¼Œå°†æ‰€æœ‰åœ†ç›˜ä¾æ¬¡è½¬ç§»åˆ°å¦å¤–ä¸€ä¸ªåœ†ç›˜ä¸Šé¢ã€‚

![æ±‰è¯ºå¡”é—®é¢˜åˆ†æ](https://jixiaoyong.github.io/images/20190102201005.png)

å¦‚å›¾ï¼Œå®ç°çš„æ€è·¯å°±æ˜¯é€’å½’ï¼š

1. å°†é™¤æœ€åº•éƒ¨çš„åœ†ç›˜`bottom`ä¹‹å¤–çš„æ‰€æœ‰åœ†ç›˜å½“åšä¸€ä¸ªæ•´ä½“`other`ï¼Œé‚£ä¹ˆé—®é¢˜å°±å˜æˆäº†å¦‚ä½•å°†`bottom`å’Œ`other`è¿™â€œä¸¤â€ä¸ªåœ†ç›˜é€šè¿‡`æŸ±å­B`ï¼Œç§»åŠ¨åˆ°`æŸ±å­C`ï¼Œè¿™ä¸ªé—®é¢˜æ˜¾ç„¶å¾ˆå¥½è§£å†³ï¼Œåªéœ€è¦å°†`other`ç§»åŠ¨åˆ°`æŸ±å­B`ï¼Œå†å°†`bottom`ç§»åŠ¨åˆ°`æŸ±å­C`å³å¯ã€‚

2. é‚£ä¹ˆå‰©ä¸‹çš„é—®é¢˜å°±æˆäº†å¦‚ä½•å°†`other`ä»`æŸ±å­A`ç§»åŠ¨åˆ°`æŸ±å­B`ï¼Œå¾ˆæ˜¾ç„¶å¯ä»¥å‚ç…§`æ­¥éª¤1`ã€‚
3. è¿™æ ·å­è¿™ä¸ªé—®é¢˜å°±æˆäº†å¦‚ä½•å°†ä¸€ä¸ª`bottom`ä»ä¸€ä¸ªæŸ±å­ï¼Œç§»åŠ¨åˆ°å¦å¤–ä¸€ä¸ªæŸ±å­çš„é—®é¢˜ï¼Œè€Œæ¯ä¸ªè¿™æ ·çš„é—®é¢˜çš„è§£å†³éƒ½ä¾èµ–äº`other`çš„è§£å†³ï¼Œè€Œè¿™å°±æ˜¯é€’å½’ã€‚

å…·ä½“å®ç°ï¼š

```kotlin
/**
 * æ±‰è¯ºå¡”é—®é¢˜
 * å°†æ±‰è¯ºå¡”é—®é¢˜ç®€åŒ–ä¸º3æ­¥ï¼š
 * 1/3 å°†æœ€ä¸Šå±‚n-1é¡¹ç§»åŠ¨åˆ°è¿‡æ¸¡å±‚
 * 2/3 å°†æœ€åº•å±‚nç§»åŠ¨åˆ°ç›®æ ‡å±‚
 * 3/3 å°†n-1é¡¹ç§»åŠ¨åˆ°ç›®æ ‡å±‚
 * @param num è¦ç§»åŠ¨çš„å±‚æ•°
 * @param from æ‰€åœ¨å±‚
 * @param inter è¿‡æ¸¡å±‚
 * @param to ç›®æ ‡å±‚
 */
var hanioStepNum = 0

fun hanioTower(num: Int, from: String, inter: String, to: String) {
    if (num == 1) {
        println("move 1 to $to")
        hanioStepNum++
    } else {
        hanioTower(num - 1, from, to, inter)//æŠŠ`other`ç§»åŠ¨åˆ°ä¸­é—´æŸ±å­
        println("move $num to $to")//æŠŠ`bottom`ç§»åŠ¨åˆ°ç›®æ ‡æŸ±å­
        hanioStepNum++
        hanioTower(num - 1, inter, from, to)//æŠŠ`other`ç§»åŠ¨åˆ°ç›®æ ‡æŸ±å­
    }
}
```

# å½’å¹¶æ’åº

å½’å¹¶æ’åº`merge`ï¼Œå°†ä¸€ä¸ªæ•°ç»„ï¼Œåˆ†æˆä¸¤ä¸ªå­æ•°ç»„åˆ†åˆ«æ’åºï¼Œä¹‹åå†å°†æ‹å¥½åºçš„æ•°ç»„åˆå¹¶ï¼Œè¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯$O(N*Log(N))$ã€‚

å…¶æ€è·¯æ˜¯ï¼Œå°†æ•°ç»„æ— é™çš„åˆ†æˆä¸¤ä»½åˆ†åˆ«è¿›è¡Œæ’åºï¼Œç„¶åå†å°†æ’å¥½åºçš„ä¸¤ä¸ªæ•°ç»„å½’å¹¶åœ¨ä¸€èµ·å¾—åˆ°æœ‰åºæ•°ç»„ã€‚æ¯ä¸ªå­æ•°ç»„çš„æœ‰åºéƒ½ä¾èµ–äºå…¶å­æ•°ç»„çš„æœ‰åºï¼Œç›´åˆ°æ¯ä¸ªå­æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ ·çš„æ•°ç»„æœ¬èº«å°±æ˜¯æœ‰åºçš„ã€‚

åŸç†å¦‚ä¸‹ï¼ˆå‡è®¾åºåˆ—å…±æœ‰nä¸ªå…ƒç´ ï¼‰ï¼š

1. å°†åºåˆ—æ¯ç›¸é‚»ä¸¤ä¸ªæ•°å­—è¿›è¡Œ**å½’å¹¶æ“ä½œ**ï¼Œå½¢æˆä¸¤ä¸ª`n/2`åºåˆ—ï¼Œæ’åºåæ¯ä¸ªåºåˆ—åŒ…å«1/2å…ƒç´ 
2. è‹¥æ­¤æ—¶åºåˆ—æ•°ä¸æ˜¯1ä¸ªï¼Œåˆ™å°†ä¸Šè¿°åºåˆ—å†æ¬¡å½’å¹¶ï¼Œåˆ†åˆ«å½¢æˆä¸¤ä¸ª`n/4`åºåˆ—ï¼Œæ¯ä¸ªåºåˆ—åŒ…å«1/4ä¸ªå…ƒç´ 
3. é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ æ’åºå®Œæ¯•ï¼Œå³åºåˆ—æ•°ä¸º1

![å½’å¹¶æ’åºåŠ¨æ€æ¼”ç¤º](https://zh.wikipedia.org/wiki/File:Merge-sort-example-300px.gif)

**åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„(`a`,`b`)æ€æƒ³**ï¼š

å°†`b`ä¸­æ¯”`a`ä¸­å°çš„å…ƒç´ éƒ½å¤åˆ¶åˆ°`a`ä¸­å¯¹åº”ä½ç½®ï¼Œç„¶åå°†å‰©ä¸‹çš„å…ƒç´ å…¨éƒ¨ä¾æ¬¡å¤åˆ¶åˆ°`a`çš„æœ«å°¾ã€‚

å½’å¹¶æ’åºå…·ä½“å®ç°ï¼š

```kotlin
/**
 * å½’å¹¶æ’åº
 * å½’å¹¶æ’åºå ç©ºé—´ï¼ˆå¤šå ä¸€ä¸ªæ’åºæ•°ç»„çš„å¤§å°ï¼‰ï¼Œæ’åºå¿«ï¼ˆN*LogNï¼‰
 * æ€æƒ³æ˜¯:
 * 1/2 å°†æ•°ç»„æ— é™åˆ†æˆä¸¤ä»½ï¼Œç›´åˆ°ä¸¤ä»½æ•°ç»„éƒ½æ˜¯æœ‰åºçš„ï¼ˆæ¯ä¸ªæ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼‰
 * 2/2 å†å¯¹å…¶è¿›è¡Œå½’å¹¶
 * å° -> å¤§
 * @param intArr å¾…æ’åºçš„æ•°ç»„
 */
fun mergeSort(intArr: IntArray): IntArray {
    var size = intArr.size
    if (size == 1) {
        return intArr
    } else {
        var half = 0
        if (size % 2 == 0) {
            half = size / 2
        } else {
            half = (size + 1) / 2
        }
        var arr1 = intArr.copyOfRange(0, half)
        val arr2 = intArr.copyOfRange(half, intArr.size)
        return merge(mergeSort(arr1), mergeSort(arr2))//å°†åˆå¹¶å¥½çš„ä¸¤ä¸ªæœ‰åºå­æ•°ç»„åˆå¹¶
    }
}

/**
 * å½’å¹¶
 * åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„ä¸ºæ–°çš„æœ‰åºæ•°ç»„
 * æ€æƒ³ï¼š
 * 1/2 ç›¸äº’æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ¯é¡¹å¤§å°ï¼Œå¹¶å°†å°çš„å¤åˆ¶åˆ°æ–°æ•°ç»„
 * 2/2 å°†å‰©ä½™çš„æ•°ç»„å…¨éƒ¨å¤åˆ¶åˆ°æ–°æ•°ç»„
 * å° -> å¤§
 * @param intArrA æœ‰åºæ•°ç»„1
 * @param intArrB æœ‰åºæ•°ç»„2
 */
fun merge(intArrA: IntArray, intArrB: IntArray): IntArray {
    var resultArr = IntArray(intArrA.size + intArrB.size)

    var indexA = 0
    var indexB = 0
    var indexC = 0

    while (indexA < intArrA.size && indexB < intArrB.size) {
        if (intArrA[indexA] < intArrB[indexB]) {
            resultArr[indexC++] = intArrA[indexA++]
        } else {
            resultArr[indexC++] = intArrB[indexB++]
        }
    }

    while (indexA < intArrA.size) {
        resultArr[indexC++] = intArrA[indexA++]
    }
    while (indexB < intArrB.size) {
        resultArr[indexC++] = intArrB[indexB++]
    }

    return resultArr
}
```

# æºç 

ğŸ‘‰[ç‚¹è¿™é‡Œ](https://github.com/jixiaoyong/Notes-Files/blob/master/AndroidLearningResource/java_note/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AD%A6%E4%B9%A0/link/Triangle.kt) æŸ¥çœ‹`æ±‰è¯ºå¡”`å’Œ`é€’å½’æ’åº`æºç 



# å‚è€ƒèµ„æ–™

[å½’å¹¶æ’åºâ€”â€”ç»´åŸºç™¾ç§‘](https://zh.wikipedia.org/wiki/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F)

<script src="https://jixiaoyong.github.io/js/edit_on_github.js"></script>
<iframe id="iframeid" scrolling=false height="50" frameborder="no" border="0" marginwidth="0" marginheight="0" onload="Javascript:editOnGithub()" srcdoc="<div id=&quot;url&quot;>https://github.com/jixiaoyong/jixiaoyong.github.io/blob/hexo_blog/blog/source/_posts/æ•°æ®ç»“æ„_é€’å½’å’Œæ±‰è¯ºå¡”é—®é¢˜.md</div>"></iframe>